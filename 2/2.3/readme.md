# 虚继承及其它特性

1. 冲突与支配原则
   1. 当派生类中新增加的数据或函数与基类中原有的同名时，若不加限制，则优先调用派生类中的成员。
   2. 派生类对象与基类产生了冲突，访问基类成员时，需要使用基类限定符(类作用符限定)。
2. 虚基类
   1. 类B  是类A的派生类，类C  是类A的派生类，类D  是类B和类C的派生类。这样，类D中就有两份类A的拷贝。这种同一个公共的基类在派生类中产生多个拷贝，不仅多占用了存储空间，而且可能会造成多个拷贝中的数据不一致和模糊的引用。
   2. 在多重派生的过程中，若使公共基类在派生类中只有一个拷贝，则可将这种基类说明为虚基类。在派生类的定义中，只要在基类的类名前加上关键字virtual，就可以将基类说明为虚基类。

        ```cpp
        class B:public  virtual A{
        public:
            int y;
            B(int a=0, int b=0 ):A(b) { y=a;}
        };
        ```

3. 虚基类的注意事项
    1. 由虚基类派生出的对象初始化时，直接调用虚基类的构造函数。因此，若将一个类定义为虚基类，则一定有正确的构造函数可供所有派生类调用。
    2. 再次强调，用虚基类进行多重派生时，若虚基类没有缺省的构造函数，则在每一个派生类的构造函数中都必须有对虚基类构造函数的调用 （且首先调用）。
